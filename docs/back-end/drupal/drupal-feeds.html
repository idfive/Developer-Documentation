<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-back-end/drupal/drupal-feeds">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Feeds module | idfive Developer Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://developers.idfive.com/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://developers.idfive.com/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://developers.idfive.com/docs/back-end/drupal/drupal-feeds"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Feeds module | idfive Developer Documentation"><meta data-rh="true" name="description" content="Feeds is a good way to import content into sites that are either already built, or where migrated content types require quite a bit of changes, or the site being &quot;migrated from&quot; is not a previous version of drupal, where something like the Migrate API may make more sense."><meta data-rh="true" property="og:description" content="Feeds is a good way to import content into sites that are either already built, or where migrated content types require quite a bit of changes, or the site being &quot;migrated from&quot; is not a previous version of drupal, where something like the Migrate API may make more sense."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://developers.idfive.com/docs/back-end/drupal/drupal-feeds"><link data-rh="true" rel="alternate" href="https://developers.idfive.com/docs/back-end/drupal/drupal-feeds" hreflang="en"><link data-rh="true" rel="alternate" href="https://developers.idfive.com/docs/back-end/drupal/drupal-feeds" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://2PJMDLEUFN-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="idfive Developer Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="idfive Developer Documentation Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="idfive Developer Documentation" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.a60064a0.css">
<link rel="preload" href="/assets/js/runtime~main.dab23e26.js" as="script">
<link rel="preload" href="/assets/js/main.fc73f4f1.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-idfive.svg" alt="idfive Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo-idfive.svg" alt="idfive Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/category/general">Documentation</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/general">General</a><button aria-label="Toggle the collapsible sidebar category &#x27;General&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/front-end">Front End</a><button aria-label="Toggle the collapsible sidebar category &#x27;Front End&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/support">Support</a><button aria-label="Toggle the collapsible sidebar category &#x27;Support&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/back-end">Back End</a><button aria-label="Toggle the collapsible sidebar category &#x27;Back End&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/category/drupal">Drupal</a><button aria-label="Toggle the collapsible sidebar category &#x27;Drupal&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-caching">Caching in drupal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-config-management">Configuration Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-entities">Entities</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-entity-queries">Entity queries in drupal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-environment">idfive drupal environment and common setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/back-end/drupal/drupal-feeds">Feeds module</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-field-snippets">Drupal Field Snippets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-helpfull-commands">Helpful Drupal Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-hybrid-content-types">Hybrid Content Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-js">Javascript and drupal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-legacy">Drupal 7</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-performance">Drupal Performance</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-rest-custom">Custom REST endpoints</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-services">Drupal 8 Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-seven-migration">Seven to 9 migration locally via lando</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-simple-password-protection">Simple (per page) password protection in drupal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-simplesamlphp-password-protection">Simplesamlphp (per page) password protection in drupal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-sitebuilding">Drupal 8 Site Building</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-social-share">Drupal Social Share</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-testing">Testing in drupal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-updates">Drupal Updates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-users-roles">Drupal Users and Roles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal/drupal-views">Drupal Views</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/back-end/drupal">Drupal 8 General Codebase</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/php">PHP</a><button aria-label="Toggle the collapsible sidebar category &#x27;PHP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/terminalfour-t4">TerminalFour (T4)</a><button aria-label="Toggle the collapsible sidebar category &#x27;TerminalFour (T4)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/wordpress">Wordpress</a><button aria-label="Toggle the collapsible sidebar category &#x27;Wordpress&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/challenges">Challenges</a><button aria-label="Toggle the collapsible sidebar category &#x27;Challenges&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/back-end"><span itemprop="name">Back End</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/drupal"><span itemprop="name">Drupal</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Feeds module</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Feeds module</h1><p>Feeds is a good way to import content into sites that are either already built, or where migrated content types require quite a bit of changes, or the site being &quot;migrated from&quot; is not a previous version of drupal, where something like the Migrate API may make more sense.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="helpful-modules">Helpful modules<a href="#helpful-modules" class="hash-link" aria-label="Direct link to Helpful modules" title="Direct link to Helpful modules">​</a></h2><ul><li><a href="https://www.drupal.org/project/feeds" target="_blank" rel="noopener noreferrer">Feeds</a></li><li><a href="https://www.drupal.org/project/feeds_ex" target="_blank" rel="noopener noreferrer">Feeds Extensible Parser</a> | Allows parsing of json/others</li><li><a href="https://www.drupal.org/project/feeds_tamper" target="_blank" rel="noopener noreferrer">Feeds Tamper</a> | Allows things like an &quot;explode&quot; on comma separated strings/etc.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="general-overview">General overview<a href="#general-overview" class="hash-link" aria-label="Direct link to General overview" title="Direct link to General overview">​</a></h2><p>At its simplest, creating content via feeds looks like:</p><ul><li>Create a Feed Type.</li><li>Create an Importer that uses that type.</li><li>Save and run that importer.</li></ul><p>However, things get more complex once things like relationships, and files get involved.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="importing-nodes">Importing Nodes<a href="#importing-nodes" class="hash-link" aria-label="Direct link to Importing Nodes" title="Direct link to Importing Nodes">​</a></h2><ul><li>Whenever possible, keep the same ID&#x27;s.</li><li><strong>Any separate entity that the node references will need to be imported first</strong>, then looked for via either name or id when you run the actual node importer.</li><li>Shortcodes, and other embeds/etc within things like WYSIWYG&#x27;s do not always translate.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="importing-mediafiles">Importing Media/files<a href="#importing-mediafiles" class="hash-link" aria-label="Direct link to Importing Media/files" title="Direct link to Importing Media/files">​</a></h2><ul><li>Whenever possible, keep the same ID&#x27;s.</li><li>Whenever possible, import D7 files as media entities. This will help keep things tidy going forward.</li><li>You may need to choose update/replace in feed settings in order to override any ID&#x27;s that exist/etc.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="media-importer-mappings">Media importer mappings<a href="#media-importer-mappings" class="hash-link" aria-label="Direct link to Media importer mappings" title="Direct link to Media importer mappings">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="image">Image<a href="#image" class="hash-link" aria-label="Direct link to Image" title="Direct link to Image">​</a></h4><p>The most common media type is image. All other media types (file, video, audio, etc) are similar, but may require different field mapping than below.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="export">Export<a href="#export" class="hash-link" aria-label="Direct link to Export" title="Direct link to Export">​</a></h5><p>Example export of image files from D7, to be converted to media (type: image) in new site. This was created with a simple views data export in D7, of:</p><ul><li>Name</li><li>Alt Text</li><li>File ID</li><li>Path (make this an absolute URL!!)</li></ul><div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;title&quot;,&quot;alt&quot;,&quot;id&quot;,&quot;path&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;img_1.png&quot;,&quot;alt text here&quot;,&quot;20&quot;,&quot;https://MY_D7_SITE.com/sites/programs.howard.edu/files/img_1.png&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;img_2.png&quot;,&quot;alt text here&quot;,&quot;21&quot;,&quot;https://MY_D7_SITE.com/sites/programs.howard.edu/files/img_2.png&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Regardless of the source, something similar to the above CSV is what is needed to create media entities in drupal. You can also do JSON or another format if desired.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="feed-config">Feed config<a href="#feed-config" class="hash-link" aria-label="Direct link to Feed config" title="Direct link to Feed config">​</a></h5><p>Create a new &quot;Media Image&quot; feed Type of Processor: Media, Media Type: Image, with the following field mappings:</p><ul><li>ID (mid): required | whenever possible, use an existing file ID, or media ID from donor site, this keeps references easier. See &quot;id&quot; above in example CSV.</li><li>Name(name): required | use the filename if needed. See &quot;title&quot; above in example CSV.</li><li>Image (field_media_image):<ul><li>File ID: Use the full http location of where this image lives, so that it can be retrieved by CURL. See &quot;path&quot; above in example CSV.</li><li>Alternative text: See &quot;alt&quot; above in example CSV.</li><li>Title: See &quot;title&quot; above in example CSV.</li></ul></li></ul><p>When the importer runs, it will then:</p><ul><li>Create a media entity with the id, specified. (20, and 21, in the above example)</li><li>Name the media entity, the same name as the old file (img_1.png, img_2.png)</li><li>Create a file, of type Image, that:<ul><li>Downloads the Image specified via CURL, into your files directory</li><li>Sets name and alt text</li></ul></li></ul><p>You now have media in the system. You can now pass either the id, or name, to the greater entity importer you wish to use these on.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="importing-paragraphs">Importing Paragraphs<a href="#importing-paragraphs" class="hash-link" aria-label="Direct link to Importing Paragraphs" title="Direct link to Importing Paragraphs">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="importing-d7-field-collections-as-d8-paragraphs">Importing d7 field collections as d8 paragraphs<a href="#importing-d7-field-collections-as-d8-paragraphs" class="hash-link" aria-label="Direct link to Importing d7 field collections as d8 paragraphs" title="Direct link to Importing d7 field collections as d8 paragraphs">​</a></h3><ul><li>Import all entities that are using paragraphs first. It is important that the entity ID&#x27;s be the same as on the D7 site, so we can reference them.</li><li>Create a temporary custom module and add an insert hook, see below, and enable.</li><li>Create a d7 views data export of the field collections, with the following:<ul><li>Any fields needed.</li><li>Field Collection ID. You may wish/need to prepend this with a larger number, to ensure it doesnt conflict with anything else. For example, in the view, simply rewrite the FCID field to something like <code>555[item_id]</code>.</li><li>A relationship to the parent entity of the field collection, and a field that then displays the parent entity ID.</li></ul></li><li>Create a feed type and select &quot;Paragraph&quot; as processor.</li><li>Add a text field to the feed type, call it for example &quot;Entity type&quot;.</li><li>Add another text field to the feed type, call it for example &quot;Entity field name&quot;.</li><li>On the mapping page, map &quot;Feed: Entity type&quot; to &quot;Parent type&quot; and &quot;Feed: Entity field name&quot; to &quot;Parent field name&quot;.</li><li>Make sure you map a source to &quot;Parent ID&quot; as well, whatever field you have the parent entity ID in your CSV.</li><li>Setup all other mappings that you need.</li><li>Create a feed and in the &quot;Entity type&quot; textfield type the machine name of the entity type you imported before. For example: &quot;node&quot;. In &quot;Entity field name&quot; type the machine name of the paragraph reference field of the entity type you imported before. For example: &quot;FIELD_MY_CUSTOM_FIELD&quot;.</li><li>Import, and troubleshoot.</li></ul><p>In order for the above to work, a temporary hook needs to be added to a custom module:</p><div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * @file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Custom temporary functionality for allowing separately imported paragraphs to be attached to nodes.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> use Drupal\Core\Entity\EntityInterface;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> * Implements hook_ENTITY_TYPE_insert() for &#x27;paragraph&#x27;.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function MY_MODULE_paragraph_insert(EntityInterface $paragraph) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $parent_type = $paragraph-&gt;parent_type-&gt;value;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $parent_field_name = $paragraph-&gt;parent_field_name-&gt;value;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  $parent_id = $paragraph-&gt;parent_id-&gt;value;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // This is node here, but could be other entity if required.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if ($parent_type == &#x27;node&#x27;) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $ent = \Drupal::entityTypeManager()-&gt;getStorage($parent_type)-&gt;load($parent_id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if ($ent) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      // Check if ent already has a reference to this paragraph.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      foreach ($ent-&gt;{$parent_field_name} as $item) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if ($item-&gt;target_id == $paragraph-&gt;id()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          // Paragraph found. Abort.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          return;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $ent-&gt;{$parent_field_name}[] = $paragraph;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      $ent-&gt;save();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This should be removed after you run all needed importers. Be aware that you may wind up with orphaned paragraphs if you play around and adjust ID&#x27;s/etc, which you may need to account for.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="parsing-json">Parsing JSON<a href="#parsing-json" class="hash-link" aria-label="Direct link to Parsing JSON" title="Direct link to Parsing JSON">​</a></h2><p>Feeds Extensible Parser gives us the opportunity to parse json feeds. This is handy when creating content from an existing API or similar. We find the JsonPath parser usually is the easiest to work with.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="context">Context<a href="#context" class="hash-link" aria-label="Direct link to Context" title="Direct link to Context">​</a></h3><p>Using JsonPath, we need to provide context for the feeds importer. This can be a bit confusing, but it is a defined standard, so several online sources can help you better understand it, such as <a href="https://jsonpath.com/" target="_blank" rel="noopener noreferrer">jsonpath.com</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="for-the-feed-itself">For the feed itself<a href="#for-the-feed-itself" class="hash-link" aria-label="Direct link to For the feed itself" title="Direct link to For the feed itself">​</a></h4><p>We need to set a base context for the feed, under the mapping tab. This needs to start with <code>$</code>, then drill down to the actual array of data. Context would be <code>$.data.*</code> for the following format. The <code>*</code> symbolizing all items in the <code>data</code> array:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;data&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;foo&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;bar&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;bar&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;foo&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Conversely, if there were no data wrapper, or similar, it could be simply <code>$.*</code> as the base context.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="for-individual-multi-value-fields">For individual, multi-value fields<a href="#for-individual-multi-value-fields" class="hash-link" aria-label="Direct link to For individual, multi-value fields" title="Direct link to For individual, multi-value fields">​</a></h4><p>Individual fields can also be run on a loop by providing context. For a link field that can have multiple values, for instance:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token property" style="color:#36acaa">&quot;resources&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;url&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;URL_HERE&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;title&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;TITLE_HERE&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;url&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;URL_HERE&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;title&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;TITLE_HERE&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Would be entered into the field mappings for a multi-value link field as <code>resources.*.url</code>, and <code>resources.*.title</code> respectively. This would then create a new link for each item, upon import.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/back-end/drupal/drupal-feeds.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/back-end/drupal/drupal-environment"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">idfive drupal environment and common setup</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/back-end/drupal/drupal-field-snippets"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Drupal Field Snippets</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#helpful-modules" class="table-of-contents__link toc-highlight">Helpful modules</a></li><li><a href="#general-overview" class="table-of-contents__link toc-highlight">General overview</a></li><li><a href="#importing-nodes" class="table-of-contents__link toc-highlight">Importing Nodes</a></li><li><a href="#importing-mediafiles" class="table-of-contents__link toc-highlight">Importing Media/files</a><ul><li><a href="#media-importer-mappings" class="table-of-contents__link toc-highlight">Media importer mappings</a></li></ul></li><li><a href="#importing-paragraphs" class="table-of-contents__link toc-highlight">Importing Paragraphs</a><ul><li><a href="#importing-d7-field-collections-as-d8-paragraphs" class="table-of-contents__link toc-highlight">Importing d7 field collections as d8 paragraphs</a></li></ul></li><li><a href="#parsing-json" class="table-of-contents__link toc-highlight">Parsing JSON</a><ul><li><a href="#context" class="table-of-contents__link toc-highlight">Context</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 idfive.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.dab23e26.js"></script>
<script src="/assets/js/main.fc73f4f1.js"></script>
</body>
</html>